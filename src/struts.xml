<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name="struts2" extends="struts-default">
        <action name="login" class="actions.Action" method="Login" >
            <result name="student" type="redirect">/frontDesk/index.jsp</result>
            <result name="teacher" type="redirect">/backDesk/homeworkManager.jsp</result>
            <result name="error">/login.jsp</result>
        </action>
        <action name="ChgPw" class="actions.Action" method="ChgPw">
            <result name="success">/login.jsp</result>
            <result name="error">/changePassword.jsp</result>
        </action>
        <action name="ChgPh" class="actions.Action" method="ChgPh">
            <result name="success" type="redirect">/frontDesk/myInfo.jsp</result>
            <result name="error" type="redirect">/frontDesk/changePhoneNum.jsp</result>
        </action>
        <action name="uploadImage" class="actions.UploadImage" method="uploadImage">
        </action>
        <action name="CrtTopic" class="actions.Action" method="CrtTopic">
            <result name="success" type="redirect">/frontDesk/interaction.jsp</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="selectAllStudents" class="actions.Action" method="SelectAllStudents">
            <result name="success" type="redirect">/backDesk/stuInfoManager.jsp</result>
        </action>
        <action name="selectStudentByClass" class="actions.Action" method="SelectStudentByClass">
            <result name="success" type="redirect">/backDesk/stuInfoManager.jsp</result>
        </action>
        <action name="selectStudentBySearch" class="actions.Action" method="SelectStudentBySearch">
            <result name="success" type="redirect">/backDesk/stuInfoManager.jsp</result>
        </action>
        <action name="updateStudentInfo" class="actions.Action" method="UpdateStudentInfo">
            <result name="success" type="redirect">/backDesk/showOneStudent.jsp</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="deleteStudentInfo" class="actions.Action" method="DeleteStudentInfo">
            <result name="success" type="chain">selectAllStudents</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="addStudentInfo" class="actions.Action" method="AddStudentInfo">
            <result name="success" type="chain">selectAllStudents</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="createComment" class="actions.Action" method="CreateComment">
            <result name="success">/frontDesk/topicDetail.jsp</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="topicDelete" class="actions.Action" method="TopicDelete">
            <result name="success">/frontDesk/showAllTopic.jsp</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="commentDelete" class="actions.Action" method="CommentDelete">
            <result name="success">/frontDesk/topicDetail.jsp</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="updateTopic" class="actions.Action" method="UpdateTopic">
            <result name="success">/frontDesk/topicDetail.jsp</result>
            <result name="error" type="redirect">/login.jsp</result>
        </action>
        <action name="uploadaction" class="com.dream.Fileupload.UploadAction">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
        </action><!--单文件-->
        <action name="multifile" class="com.dream.Fileupload.MultiUploadAction">
            <result name="success">/success.jsp</result>
            <result name="fail">/fail.jsp</result>
        </action><!--多文件-->
    </package>
    <constant name="struts.multipart.maxSize" value="-1"/><!--上传文件不受限制-->
</struts>